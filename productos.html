<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Materiales Vásquez - Productos</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <div class="logo">
            <img src="img/logo.png" alt="Materiales Vásquez Logo" />
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li>
                    <a href="carrito.html">
                        <img src="img/carrito-icon.png" alt="Carrito" class="carrito-icon">
                        <span id="cart-count">0</span> <!-- Mostrar el número de artículos -->
                    </a>
                </li>
                <li><a href="login.html">Iniciar Sesión</a></li>
            </ul>
        </nav>
    </header>

    <section>
        <h2>Productos</h2>
        <div class="productos">
            <!-- Producto 1 -->
            <div class="producto">
                <a href="detalle-producto.html?id=1">
                    <img src="img/cemento.jpg" alt="Cemento">
                </a>
                <h3>Cemento</h3>
                <p>$100 por saco</p>
                <button onclick="agregarAlCarrito('Cemento', 100)">Agregar al Carrito</button>
            </div>

            <!-- Producto 2 -->
            <div class="producto">
                <a href="detalle-producto.html?id=2">
                    <img src="img/ladrillos.jpg" alt="Ladrillos">
                </a>
                <h3>Ladrillos</h3>
                <p>$50 por 100 unidades</p>
                <button onclick="agregarAlCarrito('Ladrillos', 50)">Agregar al Carrito</button>
            </div>
        </div>
    </section>

    <!-- Aquí va la sección <script> con la actualización de JavaScript -->
    <script>
        // Función para agregar productos al carrito y mostrar animación
        function agregarAlCarrito(producto, precio) {
            let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
            carrito.push({ producto, precio });
            localStorage.setItem('carrito', JSON.stringify(carrito));

            // Actualizar el número de artículos en el carrito
            actualizarContadorCarrito();

            // Animación para mostrar que se añadió el producto
            const cartIcon = document.querySelector('.carrito-icon');
            cartIcon.classList.add('added');
            setTimeout(() => cartIcon.classList.remove('added'), 500);

            alert(`${producto} agregado al carrito por $${precio}`);
        }

        // Función para actualizar el contador de artículos en el carrito
        function actualizarContadorCarrito() {
            let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
            const cartCount = document.getElementById('cart-count');
            cartCount.textContent = carrito.length;
        }

        // Llamar a la función para mostrar el número de artículos cuando cargue la página
        window.onload = function() {
            actualizarContadorCarrito();
        }
    </script>
</body>
</html>
